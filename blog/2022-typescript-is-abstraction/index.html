<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">TypeScript is ... an abstraction | TypeScript Blackbook</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://unional.github.io/typescript-blackbook/blog/2022-typescript-is-abstraction"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="TypeScript is ... an abstraction | TypeScript Blackbook"><meta data-rh="true" name="description" content="[TypeScript 4.7] is just around the corner."><meta data-rh="true" property="og:description" content="[TypeScript 4.7] is just around the corner."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-05-14T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/unional"><meta data-rh="true" property="article:tag" content="typescript"><link data-rh="true" rel="icon" href="/typescript-blackbook/img/favicon.ico"><link data-rh="true" rel="canonical" href="http://unional.github.io/typescript-blackbook/blog/2022-typescript-is-abstraction"><link data-rh="true" rel="alternate" href="http://unional.github.io/typescript-blackbook/blog/2022-typescript-is-abstraction" hreflang="en"><link data-rh="true" rel="alternate" href="http://unional.github.io/typescript-blackbook/blog/2022-typescript-is-abstraction" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/typescript-blackbook/blog/rss.xml" title="TypeScript Blackbook RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/typescript-blackbook/blog/atom.xml" title="TypeScript Blackbook Atom Feed"><link rel="stylesheet" href="/typescript-blackbook/assets/css/styles.dcaf1479.css">
<link rel="preload" href="/typescript-blackbook/assets/js/runtime~main.251a12e1.js" as="script">
<link rel="preload" href="/typescript-blackbook/assets/js/main.c67a083d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_YALl" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/typescript-blackbook/"><div class="navbar__logo"><img src="/typescript-blackbook/img/logo.svg" alt="TypeScript Blackbook Logo" class="themedImage_m3Yv themedImage--light_a4Ok"><img src="/typescript-blackbook/img/logo.svg" alt="TypeScript Blackbook Logo" class="themedImage_m3Yv themedImage--dark_RQAV"></div><b class="navbar__title text--truncate">TypeScript Blackbook</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/typescript-blackbook/blog">Blog</a><a class="navbar__item navbar__link" href="/typescript-blackbook/docs">Blackbook</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/unional/typescript-blackbook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Cg2W"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_x46f colorModeToggle_tqFx"><button class="clean-btn toggleButton_F3mP toggleButtonDisabled_FgXA" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_vZ1M"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_B9at"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_swSO"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_dK2Y"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_QH5Q thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_yzeN margin-bottom--md">Recent posts</div><ul class="sidebarItemList_RRCt clean-list"><li class="sidebarItem_nx9T"><a class="sidebarItemLink_VwuW" href="/typescript-blackbook/blog/2022-tsc-esm-fix">Fixing TypeScript code for ESM with `tsc-esm-fix`</a></li><li class="sidebarItem_nx9T"><a class="sidebarItemLink_VwuW" href="/typescript-blackbook/blog/2022-migrate-to-esm">Migrating to ESM</a></li><li class="sidebarItem_nx9T"><a class="sidebarItemLink_VwuW" href="/typescript-blackbook/blog/2022-eslint-plugin-peer-deps">@typescript-eslint/eslint-plugin should be a peer dependency</a></li><li class="sidebarItem_nx9T"><a aria-current="page" class="sidebarItemLink_VwuW sidebarItemLinkActive_ouwG" href="/typescript-blackbook/blog/2022-typescript-is-abstraction">TypeScript is ... an abstraction</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_R3AX" itemprop="headline">TypeScript is ... an abstraction</h1><div class="container_JVtO margin-vert--md"><time datetime="2022-05-14T00:00:00.000Z" itemprop="datePublished">May 14, 2022</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_ZegW"><div class="avatar margin-bottom--sm"><a href="https://github.com/unional" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/unional.png" alt="Homa Wong (unional)"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/unional" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Homa Wong (unional)</span></a></div><small class="avatar__subtitle" itemprop="description">Clean Architect</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p><a href="https://devblogs.microsoft.com/typescript/announcing-typescript-4-7-rc/" target="_blank" rel="noopener noreferrer">TypeScript 4.7</a> is just around the corner.</p><p>I feel like it is a good time for me to update this TypeScript guidelines
with what I have learn over the years and how am I using it nowadays.</p><p>As you can see,
I&#x27;ve reorganized the repository and added this GitHub page
to make it easier to share the knowledge.</p><p>In these blog posts,
I&#x27;m going to share the bits and tips that I learned every day.
Eventually this information will be incorporated into the guidelines.</p><p>To kick things off, I&#x27;m going to talk about what TypeScript is in 2022?</p><p>No no, not about the history of TypeScript.</p><p>It&#x27;s about how I look at TypeScript and how I use it.</p><p>It&#x27;s about when I follow the rules and when I break them.</p><blockquote><p>I know all the rules, and then I know how to break &#x27;em</p></blockquote><h2 class="anchor anchorWithStickyNavbar_zqL_" id="typescript-is-an-abstraction">TypeScript is an abstraction<a href="#typescript-is-an-abstraction" class="hash-link" aria-label="Direct link to TypeScript is an abstraction" title="Direct link to TypeScript is an abstraction">​</a></h2><p>Programming language is an abstraction.</p><p>The abstraction I&#x27;m talking about is not the abstraction of defining an interface or class or inheritance.</p><p>It&#x27;s about the code you wrote, the text you typed in the <code>.ts</code> or <code>.tsx</code> file.</p><p>It is an abstraction over the actual binary code executed by the JavaScript engine.</p><p>A good abstraction emphasizes the important but sometimes has a cost of skipping over some details.</p><p>For example, the digital zeros and ones are an abstraction over the analog electrical currents.</p><p>Most of the time, at least in the sense of modern computing,
missing the details on the different levels of electrical currents is a good thing.
And we as a programmer don&#x27;t ever need to think about it.</p><p>But to the eye of hardware engineer,
it is not something they can ignore because there are physical rules they have to follow,
and there are actual consequences when putting two wires too close to each other.</p><p>The abstraction of programming language is the same.
It is good for most cases, but at some point it will start to breakdown.</p><p><a href="https://www.rust-lang.org/" target="_blank" rel="noopener noreferrer">rust</a> is a good example of this.
Its ownership model guarantee memory-safety and thread-safety.
But there are rare cases you need to break the rules thus there is a <code>unsafe</code> keyword for it.</p><p>For <a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer">TypeScript</a>, it is not designed to be a 100% sounded language.
That means you will run into those &quot;rare&quot; cases a lot more often.</p><p>You can learn more about soundness <a href="https://www.typescriptlang.org/docs/handbook/type-compatibility.html#a-note-on-soundness" target="_blank" rel="noopener noreferrer">here</a> and <a href="https://www.typescriptlang.org/play?strictFunctionTypes=false#example/soundness" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_zqL_" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2><p>So what should you do? Embrace it.</p><p>The <code>unsafe</code> keyword in <a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer">TypeScript</a> is <code>any</code>.
While you should avoid using <code>any</code> in most cases,
it is often enough that your tool chain should not prevent or punish you from using it.</p><p>You might think,</p><blockquote><p>&quot;hey, I&#x27;m working in a team and I don&#x27;t want my team members who are less familiar with TypeScript to abuse the usage of <code>any</code>.&quot;</p></blockquote><p>Yes, that is a legit concern,
and you can make your own judgement for your circumstances.</p><p>My personal experience is that the number of times I have to break the rules are common enough that making exceptions for the tools (e.g. adding <code>// eslint ignore</code> comments) clutter the code and make the code harder to read.</p><p>My approach is to rely on unit tests and code reviews to make sure the usage of <code>any</code> are in check.</p><p>Also, defining the correct type is not always easy and can take significant amount of time.
If you are working under a schedule, you might not have time to do that.</p><p>Another point to make is that since <a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer">TypeScript</a> is constantly improving,
if you build some complex types, it might work in one version and break in another version.</p><p>ASK ME HOW I KNOW IT.</p><p>Of course, I&#x27;m not saying allowing your code litters with <code>any</code> and call it a day.
You should keep track on those usages and clean it up when you get a chance to.</p><p>Converting <code>any</code> back to a proper type improves efficiency.
As that is why we use <a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer">TypeScript</a>.</p><p>And you may discover some bugs along the way.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull__Zcz"><div class="col"><b>Tags:</b><ul class="tags_QEPr padding--none margin-left--sm"><li class="tag_YW4r"><a class="tag_hnqH tagRegular_cJRw" href="/typescript-blackbook/blog/tags/typescript">typescript</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/unional/typescript-guidelines/tree/main/github-page/blog/2022-05-14-typescript-is-abstraction.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_ueTP" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/typescript-blackbook/blog/2022-eslint-plugin-peer-deps"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">@typescript-eslint/eslint-plugin should be a peer dependency</div></a></nav></main><div class="col col--2"><div class="tableOfContents_Y8h0 thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#typescript-is-an-abstraction" class="table-of-contents__link toc-highlight">TypeScript is an abstraction</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/typescript-blackbook/docs">Blackbook</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/RwzcFpN5fv" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Cg2W"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/unional" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Cg2W"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/typescript-blackbook/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/unional/typescript-blackbook" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Cg2W"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 by unional</div></div></div></footer></div>
<script src="/typescript-blackbook/assets/js/runtime~main.251a12e1.js"></script>
<script src="/typescript-blackbook/assets/js/main.c67a083d.js"></script>
</body>
</html>